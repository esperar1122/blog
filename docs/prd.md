# 大学生个人博客系统 Product Requirements Document (PRD)

## Goals and Background Context

### Goals

- 构建一个完整的个人博客平台，支持用户注册、登录、文章发布、评论互动等核心功能
- 实现管理员与普通用户的权限分离，确保系统安全和数据管理有效性
- 采用Spring Boot + MySQL + Vue3技术栈，构建前后端分离的现代化Web应用
- 实现至少5张数据库表的完整CRUD操作，满足课程要求
- 提供良好的用户体验，支持响应式设计，适配多种设备
- 确保系统性能和稳定性，支持100+并发用户访问

### Background Context

当前大学生群体需要一个专属的博客平台来记录学习心得、分享技术成长、建立个人品牌。现有的通用博客平台功能过于复杂或缺乏针对性，无法满足大学生特定的学术交流和职业发展需求。本项目旨在解决这一痛点，通过简洁易用的界面设计、强大的内容管理功能和完善的权限控制体系，为大学生提供一个理想的个人博客解决方案。

系统基于项目简报中详细分析的用户需求和技术架构，采用业界主流的Spring Boot + MySQL + Vue3技术栈，确保系统的可维护性、可扩展性和高性能。通过前后端分离的架构设计，实现更好的用户体验和开发效率。

### Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-12-15 | 1.0 | 初始PRD版本创建，基于项目简报文档 | John (PM Agent) |

## Requirements

### Functional

**FR1**: 用户注册功能 - 支持用户名、邮箱、密码注册，包含输入验证和重复检查
**FR2**: 用户登录功能 - 支持用户名/邮箱登录，JWT令牌认证
**FR3**: 用户个人资料管理 - 支持头像上传、昵称、个人简介等信息编辑
**FR4**: 文章创建功能 - 支持Markdown编辑器、富文本格式、图片上传
**FR5**: 文章编辑功能 - 支持草稿保存、内容更新、状态管理
**FR6**: 文章删除功能 - 支持逻辑删除和永久删除（仅管理员）
**FR7**: 文章浏览功能 - 支持文章列表、详情页、分页显示
**FR8**: 分类管理功能 - 支持文章分类的创建、编辑、删除、排序
**FR9**: 标签管理功能 - 支持文章标签的创建、编辑、删除、颜色设置
**FR10**: 评论功能 - 支持文章评论、回复、删除
**FR11**: 搜索功能 - 支持按标题、内容、作者、标签搜索文章
**FR12**: 管理员用户管理 - 支持查看、编辑、禁用、删除用户
**FR13**: 管理员内容管理 - 支持查看、编辑、删除所有文章和评论
**FR14**: 权限控制 - 基于角色的访问控制（RBAC）
**FR15**: 文章状态管理 - 支持草稿、发布、删除状态切换

### Non Functional

**NFR1**: 性能要求 - 页面加载时间小于3秒，API响应时间小于500ms
**NFR2**: 并发支持 - 支持至少100个用户同时在线访问
**NFR3**: 安全要求 - 密码加密存储、SQL注入防护、XSS攻击防护、CSRF防护
**NFR4**: 可用性 - 系统可用性达到99%以上
**NFR5**: 响应式设计 - 支持PC、平板、手机等不同设备的良好显示
**NFR6**: 数据完整性 - 确保用户数据、文章数据的完整性和一致性
**NFR7**: 可维护性 - 代码结构清晰，便于后续功能扩展和维护
**NFR8**: 数据库性能 - 支持至少10万篇文章数据的存储和查询
**NFR9**: 图片存储 - 支持图片上传和存储，单个文件不超过5MB
**NFR10**: 浏览器兼容性 - 支持Chrome、Firefox、Safari、Edge等主流浏览器

## User Interface Design Goals

### Overall UX Vision

构建简洁、现代、易用的博客平台界面，遵循Material Design设计规范，提供直观的用户操作流程。界面设计注重内容展示，减少不必要的视觉干扰，让用户专注于内容创作和阅读。采用卡片式布局，提高信息的可读性和浏览效率。

### Key Interaction Paradigms

- **导航模式**: 顶部导航栏 + 侧边栏（管理员）的经典布局
- **操作反馈**: 即时的表单验证和操作结果提示
- **内容编辑**: 所见即所得的Markdown编辑器
- **数据交互**: 无刷新页面切换，提升用户体验
- **移动优先**: 响应式设计，确保移动设备上的良好体验

### Core Screens and Views

- **登录/注册页面**: 简洁的认证界面，支持表单验证
- **首页**: 文章列表展示，搜索功能，分类筛选
- **文章详情页**: 文章内容展示，评论区，相关文章推荐
- **文章编辑页**: Markdown编辑器，工具栏，预览功能
- **用户中心**: 个人信息管理，我的文章，我的评论
- **管理后台**: 用户管理，文章管理，分类管理，标签管理，评论管理
- **搜索结果页**: 搜索结果列表，分页显示

### Accessibility: WCAG AA

系统将遵循WCAG 2.1 AA级别的无障碍设计标准，确保所有用户都能正常使用系统功能。

### Branding

采用清新、学术的设计风格，主色调使用蓝色系（#1890ff），辅以白色和灰色背景，营造专业、可信的学术氛围。图标采用简洁的线性设计，保持视觉一致性。

### Target Device and Platforms: Web Responsive

支持所有现代浏览器的Web响应式设计，包括桌面端、平板端和移动端。

## Technical Assumptions

### Repository Structure: Monorepo

采用单仓库多模块结构，前端和后端代码在同一仓库中管理，便于版本控制和团队协作。

### Service Architecture

采用单体应用架构，前后端分离部署。后端使用Spring Boot构建RESTful API，前端使用Vue3构建SPA应用。这种架构适合项目规模和团队规模，便于开发、测试和部署。

### Testing Requirements

采用完整的测试金字塔策略：
- **单元测试**: 覆盖核心业务逻辑，目标覆盖率80%以上
- **集成测试**: 测试数据库操作、API接口等
- **端到端测试**: 测试核心用户流程
- **手动测试**: 测试UI交互和用户体验

### Additional Technical Assumptions and Requests

- **数据库**: MySQL 8.0，使用MyBatis Plus作为ORM框架
- **缓存**: Redis用于会话存储和热点数据缓存
- **文件存储**: 本地文件系统存储上传的图片和附件
- **认证**: JWT令牌认证，支持令牌刷新
- **日志**: 使用SLF4J + Logback记录系统日志
- **API文档**: 使用Swagger生成API文档
- **容器化**: 使用Docker进行应用容器化，便于部署
- **版本控制**: 使用Git进行版本控制，遵循Git Flow工作流
- **构建工具**: 后端使用Maven，前端使用Vite
- **代码质量**: 使用ESLint和CheckStyle进行代码规范检查

## Epic List

### Epic 1: Foundation & Core Infrastructure: 建立项目基础架构、用户认证系统和基础权限控制

### Epic 2: Core Content Management: 实现文章的完整生命周期管理，包括创建、编辑、发布、删除功能

### Epic 3: Content Organization & Discovery: 实现分类、标签、搜索功能，提升内容组织性和可发现性

### Epic 4: User Interaction & Community: 实现评论系统和用户互动功能

### Epic 5: Administration & Management: 实现完整的后台管理系统，支持用户和内容管理

## Epic 1 Foundation & Core Infrastructure

建立项目基础架构，实现用户注册、登录、JWT认证系统和基础权限控制，为后续功能开发提供坚实的技术基础。

### Story 1.1 Project Setup & Configuration

作为开发团队，
我们希望完成项目的基础架构搭建，
以便为后续功能开发提供稳定的技术基础。

**Acceptance Criteria:**
1. 创建前后端分离的项目结构，包含blog-backend和blog-frontend两个子模块
2. 配置Spring Boot 3.x项目，集成MyBatis Plus、Spring Security等基础依赖
3. 配置Vue3项目，集成Vue Router、Pinia、Element Plus等基础依赖
4. 配置数据库连接，实现MySQL数据库的连接和基础表结构创建
5. 配置跨域处理，确保前后端能够正常通信
6. 创建基础的API响应格式和全局异常处理
7. 配置基础的日志系统，记录关键操作和错误信息

### Story 1.2 User Registration System

作为新用户，
我希望能够注册一个新账户，
以便开始使用博客系统发布内容。

**Acceptance Criteria:**
1. 实现用户注册API，支持用户名、邮箱、密码的输入和验证
2. 实现用户名和邮箱的唯一性检查，防止重复注册
3. 实现密码强度验证，要求至少8位，包含字母和数字
4. 实现邮箱格式验证，确保邮箱地址的有效性
5. 实现密码加密存储，使用BCrypt算法进行密码哈希
6. 创建用户注册页面，包含表单验证和错误提示
7. 实现注册成功后的自动登录功能
8. 创建数据库表t_user，包含用户基本信息字段

### Story 1.3 User Login & Authentication

作为注册用户，
我希望能够登录系统，
以便访问我的个人博客内容和管理功能。

**Acceptance Criteria:**
1. 实现用户登录API，支持用户名或邮箱登录
2. 实现JWT令牌生成和验证机制
3. 实现登录状态管理，支持令牌刷新
4. 创建用户登录页面，包含记住密码功能
5. 实现登录失败次数限制，防止暴力破解
6. 实现用户登出功能，清除本地令牌存储
7. 创建路由守卫，保护需要认证的页面
8. 实现用户状态检测，自动处理令牌过期

### Story 1.4 Basic Permission Control

作为系统管理员，
我们希望实现基础的权限控制，
以便区分普通用户和管理员的访问权限。

**Acceptance Criteria:**
1. 实现基于角色的权限控制（RBAC），支持USER和ADMIN两种角色
2. 实现权限注解，在API方法上进行权限控制
3. 实现前端路由权限控制，根据用户角色显示不同菜单
4. 实现API权限验证，防止未授权访问
5. 创建权限管理相关的工具类和常量定义
6. 实现用户角色字段的初始化和管理功能
7. 创建权限相关的单元测试
8. 实现权限错误的统一处理和友好提示

## Epic 2 Core Content Management

实现文章的完整生命周期管理，包括文章的创建、编辑、发布、删除、浏览等核心功能，为用户提供强大的内容创作和管理工具。

### Story 2.1 Article Creation & Editing

作为博客用户，
我希望能够创建和编辑文章，
以便分享我的想法和经验。

**Acceptance Criteria:**
1. 实现文章创建API，支持标题、内容、摘要、分类、标签等字段
2. 集成Markdown编辑器，支持实时预览和语法高亮
3. 实现图片上传功能，支持拖拽上传和多文件上传
4. 实现文章草稿保存功能，防止意外丢失内容
5. 创建文章编辑页面，包含标题编辑、内容编辑、标签选择等组件
6. 实现文章状态管理（草稿、发布、删除）
7. 创建数据库表t_article，包含文章的所有相关字段
8. 实现文章自动保存功能，每5分钟自动保存草稿

### Story 2.2 Article Display & Management

作为博客用户，
我希望能够查看和管理我的文章，
以便跟踪我的创作进展。

**Acceptance Criteria:**
1. 实现文章列表API，支持分页、排序、筛选功能
2. 实现文章详情API，包含完整的文章内容和元数据
3. 创建文章列表页面，支持网格和列表两种显示模式
4. 创建文章详情页面，包含文章内容、作者信息、发布时间等
5. 实现文章阅读量统计功能
6. 实现我的文章管理页面，支持查看、编辑、删除操作
7. 实现文章搜索功能，支持按标题和内容搜索
8. 创建文章分享功能，支持复制链接和社交媒体分享

### Story 2.3 Article Lifecycle Management

作为博客用户，
我希望能够管理文章的发布状态，
以便控制内容的可见性。

**Acceptance Criteria:**
1. 实现文章发布功能，将草稿状态改为发布状态
2. 实现文章下线功能，将发布状态改为草稿状态
3. 实现文章删除功能，支持逻辑删除和恢复
4. 实现文章置顶功能，将重要文章显示在列表顶部
5. 创建文章状态管理界面，提供清晰的状态指示器
6. 实现文章发布时间管理，支持定时发布功能
7. 实现文章版本控制，支持查看历史版本
8. 创建文章操作日志，记录所有状态变更

## Epic 3 Content Organization & Discovery

实现分类、标签、搜索功能，帮助用户更好地组织和发现内容，提升博客系统的内容管理效率。

### Story 3.1 Category Management System

作为博客用户，
我希望能够使用分类来组织我的文章，
以便让读者更容易找到相关内容。

**Acceptance Criteria:**
1. 实现分类管理API，支持分类的创建、编辑、删除
2. 创建数据库表t_category，包含分类名称、描述、图标等字段
3. 实现分类树形结构，支持父子分类关系
4. 创建分类管理页面，支持拖拽排序和层级显示
5. 实现文章分类关联功能，每篇文章只能属于一个分类
6. 创建分类筛选功能，在文章列表中按分类筛选
7. 实现分类统计功能，显示每个分类下的文章数量
8. 创建分类页面，显示该分类下的所有文章

### Story 3.2 Tag Management System

作为博客用户，
我希望能够使用标签来标记我的文章，
以便提供更灵活的内容组织方式。

**Acceptance Criteria:**
1. 实现标签管理API，支持标签的创建、编辑、删除
2. 创建数据库表t_tag，包含标签名称、颜色等字段
3. 创建数据库表t_article_tag，实现文章和标签的多对多关系
4. 创建标签管理页面，支持颜色选择和快速编辑
5. 实现文章标签关联功能，一篇文章可以有多个标签
6. 创建标签筛选功能，支持多标签组合筛选
7. 实现标签云功能，根据使用频率显示标签大小
8. 创建标签页面，显示该标签下的所有文章

### Story 3.3 Search & Discovery Features

作为博客用户，
我希望能够搜索和发现感兴趣的内容，
以便快速找到相关信息。

**Acceptance Criteria:**
1. 实现全文搜索API，支持按标题、内容、作者、标签搜索
2. 创建搜索页面，包含搜索框、筛选器、排序选项
3. 实现搜索结果高亮显示，突出显示匹配的关键词
4. 实现搜索历史功能，保存用户最近的搜索记录
5. 创建热门搜索功能，显示最常搜索的关键词
6. 实现相关文章推荐功能，基于标签和分类推荐
7. 创建搜索统计功能，记录搜索关键词和结果数量
8. 实现搜索结果分页，每页显示10条结果

## Epic 4 User Interaction & Community

实现评论系统和用户互动功能，为用户提供交流和讨论的平台，增强博客系统的社区属性。

### Story 4.1 Comment System

作为博客读者，
我希望能够对文章发表评论，
以便与作者和其他读者交流。

**Acceptance Criteria:**
1. 实现评论创建API，支持评论内容的输入和验证
2. 创建数据库表t_comment，包含评论内容、文章ID、用户ID等字段
3. 实现评论回复功能，支持嵌套评论结构
4. 创建评论组件，显示评论列表和回复表单
5. 实现评论时间显示，支持相对时间格式（如"2小时前"）
6. 实现评论排序功能，支持按时间、点赞数排序
7. 创建评论通知功能，当有人回复时通知用户
8. 实现评论数量统计，显示文章的评论总数

### Story 4.2 Comment Management & Moderation

作为文章作者和管理员，
我希望能够管理文章评论，
以便维护良好的讨论环境。

**Acceptance Criteria:**
1. 实现评论编辑功能，允许用户编辑自己的评论
2. 实现评论删除功能，支持用户删除自己的评论
3. 实现评论审核功能，管理员可以审核和删除不当评论
4. 创建评论管理页面，显示所有评论和相关操作
5. 实现评论举报功能，用户可以举报不当评论
6. 创建评论黑名单功能，屏蔽恶意用户
7. 实现评论敏感词过滤，自动检测和过滤不当内容
8. 创建评论统计页面，显示评论数量、举报数量等数据

## Epic 5 Administration & Management

实现完整的后台管理系统，为管理员提供用户和内容管理的工具，确保系统的正常运行和内容质量。

### Story 5.1 User Management

作为系统管理员，
我希望能够管理系统用户，
以便维护用户秩序和系统安全。

**Acceptance Criteria:**
1. 实现用户列表API，支持按用户名、邮箱、角色、状态筛选
2. 创建用户管理页面，显示用户列表和详细信息
3. 实现用户编辑功能，支持修改用户信息和角色
4. 实现用户禁用功能，暂时停止用户访问权限
5. 实现用户删除功能，支持逻辑删除和永久删除
6. 创建用户统计功能，显示用户注册数量、活跃用户等数据
7. 实现用户搜索功能，支持按多种条件搜索用户
8. 创建用户操作日志，记录所有管理操作

### Story 5.2 Content Management

作为系统管理员，
我希望能够管理系统内容，
以便确保内容质量和系统合规。

**Acceptance Criteria:**
1. 实现内容列表API，支持文章和评论的统一管理
2. 创建内容管理页面，显示所有文章和评论
3. 实现文章审核功能，管理员可以审核和修改文章
4. 实现批量操作功能，支持批量删除、批量修改状态
5. 创建内容统计页面，显示文章数量、评论数量等数据
6. 实现内容导出功能，支持导出文章数据
7. 创建敏感词管理功能，配置和管理敏感词列表
8. 实现系统设置功能，配置系统参数和规则

### Story 5.3 System Monitoring & Maintenance

作为系统管理员，
我希望能够监控系统状态和进行系统维护，
以便确保系统的稳定运行。

**Acceptance Criteria:**
1. 实现系统监控API，提供系统性能和状态信息
2. 创建系统监控页面，显示CPU、内存、数据库等状态
3. 实现操作日志功能，记录所有系统操作
4. 创建日志查看页面，支持日志查询和分析
5. 实现数据备份功能，定期备份重要数据
6. 创建系统设置页面，配置系统参数
7. 实现缓存管理功能，清理和刷新系统缓存
8. 创建系统健康检查，监控系统各组件状态

## Next Steps

### UX Expert Prompt

请基于此PRD文档，创建详细的用户体验设计方案，包括用户流程图、线框图、交互设计等。重点关注移动端用户体验和内容创作的流畅性。

### Architect Prompt

请基于此PRD文档，设计详细的技术架构方案，包括数据库设计、API设计、系统架构图、部署方案等。确保技术方案满足所有功能和非功能需求，并考虑系统的可扩展性和维护性。