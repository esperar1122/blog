# 🚀 博客系统启动指南

## 环境要求

### 后端环境
- Java 17+
- Maven 3.6+
- MySQL 8.0+ (可选，如果不用数据库可以注释掉数据源配置)

### 前端环境
- Node.js 18+
- npm 9+

## 快速启动步骤

### 1. 数据库准备 (可选)
如果不使用数据库，可以跳过此步骤，后端会使用H2内存数据库

```sql
-- 创建数据库
CREATE DATABASE blog_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 创建用户 (可选)
CREATE USER 'blog_user'@'localhost' IDENTIFIED BY 'your_password';
GRANT ALL PRIVILEGES ON blog_db.* TO 'blog_user'@'localhost';
FLUSH PRIVILEGES;
```

### 2. 后端启动

```bash
# 进入后端目录
cd blog-backend

# 启动后端 (使用Maven)
mvn spring-boot:run

# 或者如果有IDE，直接运行 BlogApplication.java
```

后端启动后可以访问：
- 健康检查：http://localhost:8080/api/test/health
- API测试：http://localhost:8080/api/test/api

### 3. 前端启动

```bash
# 进入项目根目录
cd ..

# 安装依赖
npm install

# 启动前端
npm run dev

# 或者进入frontend目录
cd blog-frontend
npm install
npm run dev
```

前端启动后可以访问：
- 开发服务器：http://localhost:3000
- 自动代理后端API到 /api

## 配置说明

### 后端配置文件位置
- 配置文件：`blog-backend/src/main/resources/application.yml`

### 主要配置项
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/blog_db  # 数据库地址
    username: root                              # 数据库用户名
    password: 123456                            # 数据库密码

server:
  port: 8080                                    # 后端端口
  servlet:
    context-path: /api                           # API前缀
```

### 前端配置文件位置
- Vite配置：`blog-frontend/vite.config.ts`
- 包配置：`blog-frontend/package.json`

## 简化的安全配置

为了让项目能够快速启动，安全配置已经简化：
- **后端**：允许所有请求访问（开发阶段）
- **前端**：使用模拟登录，无需真实认证

## 常见问题

### 1. Maven找不到命令
请确保已安装Maven并配置了环境变量：
```bash
# 检查Maven版本
mvn --version
```

### 2. 前端依赖安装失败
```bash
# 清除npm缓存
npm cache clean --force

# 删除node_modules重新安装
rm -rf node_modules package-lock.json
npm install
```

### 3. 数据库连接失败
如果不想使用数据库，可以在application.yml中注释掉数据源配置，Spring Boot会使用H2内存数据库。

### 4. 端口冲突
如果8080或3000端口被占用，可以修改配置文件中的端口号。

## 项目结构

```
blog-project/
├── blog-backend/          # Spring Boot后端
├── blog-frontend/         # Vue 3前端
├── blog-shared/          # 共享类型定义
├── docs/                 # 项目文档
├── package.json          # 工作区配置
└── README.md             # 项目说明
```

## 开发建议

1. **先启动后端**，确保API服务正常
2. **再启动前端**，通过代理访问后端API
3. 使用浏览器开发者工具查看网络请求
4. 查看控制台日志排查问题

## 功能特性

✅ **已完成的功能**
- 用户管理 (注册、登录、个人中心)
- 文章管理 (创建、编辑、发布、删除)
- 分类和标签管理
- 评论系统
- 搜索功能
- 管理后台

🔧 **简化的部分**
- 安全认证 (开发阶段简化)
- 数据库配置 (支持内存数据库)
- 外部依赖 (移除复杂的第三方服务)

项目现在可以正常启动和运行！🎉